# 变更副本集实例配置

云数据库MongoDB的副本集实例支持变更配置功能，当您已购买的实例配置不符合（高于或低于）当前业务需求时，您可以对当前实例进行变配操作，使当前实例的配置与您的业务需求更加匹配。

## 计费规则

详情信息请参见[变更配置费用说明](/intl.zh-CN/产品定价/变更配置费用说明.md)。

## 使用限制

-   变更配置时，存储空间必须大于当前实例已占用的存储空间。
-   付费类型为包年包月时，两次降配的间隔时间需要大于等于60天。
-   不支持降低存储空间。如果需要降低存储空间，您可以通过新建实例的方法实现，操作步骤请参见[其他变配场景及方案](/intl.zh-CN/用户指南/实例管理/变更实例配置/变更配置方案概览.md)。
-   不支持变更实例类型（例如从副本集实例变更为分片集群实例）、存储引擎。如果需要变更实例类型和存储引擎，您可以通过新建实例的方法实现，操作步骤请参见[其他变配场景及方案](/intl.zh-CN/用户指南/实例管理/变更实例配置/变更配置方案概览.md)。

## 注意事项

-   变配操作不会引起数据丢失。
-   变配过程中，可能会出现1~2次闪断现象，每次约30秒。您可以按需设置变更生效时间，避免影响业务运行。

    **说明：** 如果仅变更**存储空间**，则不会发生闪断现象。

-   变更配置的完成时间与多种因素（如网络、任务队列、数量大小）有关，建议您在业务低峰期执行变配操作，并确保您的应用有自动重连机制。
-   如果您的数据库小版本过期或者不在维护列表内，当执行[实例版本升级](/intl.zh-CN/用户指南/实例管理/数据库升级/升级数据库版本.md)、[数据迁移](/intl.zh-CN/用户指南/数据迁移和同步/MongoDB数据迁移和同步方案概览.md)、[变更实例配置](/intl.zh-CN/用户指南/实例管理/变更实例配置/变更配置方案概览.md)、[从备份点创建实例](/intl.zh-CN/用户指南/数据恢复/从备份点创建实例.md)、[按时间点新建实例](/intl.zh-CN/用户指南/数据恢复/按时间点新建实例.md)或[MongoDB单库恢复](/intl.zh-CN/用户指南/数据恢复/MongoDB单库恢复.md)等操作时，为保证提供更出色的性能和稳定性，系统会默认将您的数据库小版本升级至最新版。

## 操作步骤

1.  登录[MongoDB管理控制台](https://mongodb.console.aliyun.com/)。

2.  在页面左上角，选择实例所在的资源组和地域。

3.  在左侧导航栏，单击**副本集实例列表**。

4.  在**副本集实例列表**中，找到目标实例。

5.  根据实例的付费类型，执行对应操作进入变更配置界面。

    包年包月

    -   单击目标实例所在行**操作**列的![三个点](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7156819951/p13851.png)，并选择**升级配置**或**降级配置**。
    -   单击目标实例ID，在**基本信息**区域，单击**升级配置**或**降级配置**。
    按量付费

    -   单击目标实例所在行**操作**列的![三个点](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7156819951/p13851.png)，并选择**变更配置**。
    -   单击目标实例ID，在**基本信息**区域，单击**变更配置**。
6.  设置以下参数，完成变更配置。

    **说明：** 变更**存储空间**时，选择的存储空间需大于实例已占用存储空间的大小。如果您需要降低存储空间，您可以通过创建实例的方法实现，操作方法请参见[其他变配场景及方案](/intl.zh-CN/用户指南/实例管理/变更实例配置/变更配置方案概览.md)。

    |付费类型|变更类型|参数|参数说明|
    |----|----|--|----|
    |包年包月|升级配置|**主备节点数**|选择变配的主备节点个数。具体如下：    -   **三节点**：不支持降级。
    -   **五节点**：支持降级为**三节点**。
    -   **七节点**：支持降级为**三节点**或**五节点**。 |
    |**规格**|选择变配的规格，单节点实例支持的规格信息请参见[实例规格表](/intl.zh-CN/产品简介/实例规格表.md)。|
    |**存储空间**|选择变配的存储空间。|
    |**时间切换**|选择执行变配操作的时间。    -   **数据迁移结束后立即切换**：变配配置完成后，系统立即执行变配操作。
    -   **可维护时间内进行切换**：在可维护时间段内系统执行变配操作，您可以查看当前设置的运维时间段，也可以根据业务需求，选择以下任意一种方法变更运维时间：
        -   单击**可维护时间内进行切换**右侧的**修改**设置切换时间。
        -   在**规格信息**区域，单击**可维护时间段**右侧的**编辑**设置切换时间，设置方法请参见[设置可维护时间段](/intl.zh-CN/用户指南/实例管理/设置可维护时间段.md)。 |
    |降级配置|**主备节点数**|选择变配的主备节点个数。具体如下：    -   **三节点**：不支持降级。
    -   **五节点**：支持降级为**三节点**。
    -   **七节点**：支持降级为**三节点**或**五节点**。 |
    | |**规格**|选择变配的规格，单节点实例支持的规格信息请参见[实例规格表](/intl.zh-CN/产品简介/实例规格表.md)。|
    |**时间切换**|选择执行变配操作的时间。    -   **数据迁移结束后立即切换**：变配配置完成后，系统立即执行变配操作。
    -   **可维护时间内进行切换**：在可维护时间段内系统执行变配操作，您可以查看当前设置的运维时间段，也可以根据业务需求，选择以下任意一种方法变更运维时间：
        -   单击**可维护时间内进行切换**右侧的**修改**设置切换时间。
        -   在**规格信息**区域，单击**可维护时间段**右侧的**编辑**设置切换时间，设置方法请参见[设置可维护时间段](/intl.zh-CN/用户指南/实例管理/设置可维护时间段.md)。 |
    |按量付费|    -   升级配置
    -   降级配置
|**主备节点数**|选择变配的主备节点个数。具体如下：    -   **三节点**：不支持降级。
    -   **五节点**：支持降级为**三节点**。
    -   **七节点**：支持降级为**三节点**或**五节点**。 |
    |**规格**|选择变配的规格，单节点实例支持的规格信息请参见[实例规格表](/intl.zh-CN/产品简介/实例规格表.md)。|
    |**存储空间**|选择变配的存储空间。**说明：** MongoDB不支持降低实例的存储空间，如果需要降低存储空间，您可以通过创建实例的方法实现，操作方法请参见[其他变配场景及方案](/intl.zh-CN/用户指南/实例管理/变更实例配置/变更配置方案概览.md)。 |
    |**时间切换**|选择执行变配操作的时间。    -   **数据迁移结束后立即切换**：变配配置完成后，系统立即执行变配操作。
    -   **可维护时间内进行切换**：在可维护时间段内系统执行变配操作，您可以查看当前设置的运维时间段，也可以根据业务需求，选择以下任意一种方法变更运维时间：
        -   单击**可维护时间内进行切换**右侧的**修改**设置切换时间。
        -   在**规格信息**区域，单击**可维护时间段**右侧的**编辑**设置切换时间，设置方法请参见[设置可维护时间段](/intl.zh-CN/用户指南/实例管理/设置可维护时间段.md)。 |

7.  购买。

    根据付费类型，执行对应操作。

    -   按量付费：阅读并勾选服务协议，单击**立即购买**。
    -   包年包月：阅读并勾选服务协议，单击**立即购买**，并在**支付**页面，根据提示完成支付流程。

当实例的运行状态变为**运行中**时，说明变配操作已完成。

