# 按时间点新建实例

云数据库MongoDB支持从实例运行的某个时间点创建新的实例。新建的实例数据恢复至源实例选择的时间点，可用作数据恢复或数据验证等场景。

-   实例类型为副本集实例或分片集群实例。
-   目前仅支持选择7天内的某个时间点进行恢复。

## 注意事项

如果您的数据库小版本过期或者不在维护列表内，当执行[实例版本升级](/intl.zh-CN/用户指南/实例管理/数据库升级/升级数据库版本.md)、[数据迁移](/intl.zh-CN/用户指南/数据迁移和同步/MongoDB数据迁移和同步方案概览.md)、[变更实例配置](/intl.zh-CN/用户指南/实例管理/变更实例配置/变更配置方案概览.md)、[从备份点创建实例](/intl.zh-CN/用户指南/数据恢复/从备份点创建实例.md)或[按时间点新建实例](/intl.zh-CN/用户指南/数据恢复/按时间点新建实例.md)等操作时，为保证提供更出色的性能和稳定性，系统会默认将您的数据库小版本升级至最新版。

## 费用说明

执行按时间点新建实例的操作将创建一个新的实例并产生相关费用，详情请参见[收费项目及价格说明](/intl.zh-CN/产品定价/收费项目及价格说明.md)。

**说明：** 如果您要创建按量付费的实例，请确保您的账户资金充足。

## 操作步骤

1.  登录[MongoDB管理控制台](https://mongodb.console.aliyun.com/)。

2.  在页面左上角，选择实例所在的资源组和地域。

3.  根据实例类型，在左侧导航栏单击**副本集实例列表**或**分片集群实例列表**。

4.  找到目标实例，单击实例ID。

5.  在左侧导航栏中，单击**备份与恢复**。

6.  在**备份与恢复**页面，单击**按时间点创建实例**。

7.  在**按时间点创建实例**页面中选择要恢复的时间点并设置以下参数：

    -   **全部数据库**：恢复实例的全部数据库。
    -   **部分数据库**：恢复实例的部分数据库。

        您可以直接勾选需要恢复的数据库，也可以单击**切换为手动输入数据库**，手动输入需要恢复的数据库。

        **说明：**

        -   在手动输入数据库的模式下，多个数据库之间用英文逗号（,）分隔。
        -   为保障数据的完整性和正确性，当实例类型为分片集群实例时，请勿选择最近的时间点（通常为最近1小时），否则会导致恢复失败。
        -   如果您升级过数据库版本，老版本的备份文件将无法用于恢复数据。
8.  单击**确定**

9.  在跳转到的购买页面，选择实例的计费模式。

    **说明：**

    -   包年包月：在新建实例时支付费用。适合长期需求，价格比按量付费更实惠，且购买时长越长，折扣越多。
    -   按量付费：后付费，按小时扣费。适合短期需求，用完可立即释放实例，节省费用。
10. 选择新购实例的配置信息，具体配置项及说明请参见[创建副本集实例](/intl.zh-CN/快速入门/创建实例/创建副本集实例.md)或[创建分片集群实例](/intl.zh-CN/快速入门/创建实例/创建分片集群实例.md)。

    **说明：**

    -   副本集实例：配置的存储空间不低于源实例的存储空间。
    -   分片集群实例：
        -   新分片集群实例中Shard节点数量与源分片集群实例保持一致。
        -   Shard节点的存储空间不低于源分片集群实例中Shard节点的存储空间。
11. 单击**立即购买**。

12. 阅读并勾选**云数据库MongoDB版服务协议**，根据提示完成支付流程。

    **说明：** 新实例执行数据恢复所需的时间和数据量、任务队列、网络等多种因素有关，您只需等待新实例运行状态变更为**运行中**即可。


