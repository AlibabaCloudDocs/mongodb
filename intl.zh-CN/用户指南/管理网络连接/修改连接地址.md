# 修改连接地址

云数据库MongoDB支持修改实例的内网或公网连接地址。您可以将新实例的连接地址修改为原实例的连接地址，免去对应用程序进行修改的步骤。

## 约束

|实例类型|约束|
|----|--|
|单节点实例|由于单节点架构的特殊性，实例仅提供Primary节点，可修改Primary节点的连接地址。|
|MongoDB 4.2及以下版本的副本集实例|支持修改Primary节点、Secondary节点和ReadOnly节点的连接地址。支持修改Primary节点和Secondary节点的连接地址。|
|分片集群实例|-   实例为MongoDB协议：仅支持修改所有Mongos节点的连接地址。
-   连接类型为DynamoDB兼容协议：支持修改ConfigServer节点的连接地址。 |

## 操作步骤

1.  登录[MongoDB管理控制台](https://mongodb.console.aliyun.com/)。

2.  在页面左上角，选择实例所在的资源组和地域。

3.  根据实例类型，在左侧导航栏单击**副本集实例列表**或**分片集群实例列表**。

4.  找到目标实例，单击实例ID。

5.  在左侧导航栏，单击**数据库连接**。

6.  根据实例类型，执行对应操作。

    -   单节点或副本集实例

        在**私网连接**或**公网连接**区域，单击**修改连接地址**。

    -   分片集群实例

        在**私网连接**或**公网连接**区域，单击**更多操作** \> **修改连接地址**。

7.  在**修改连接地址**页面，设置新连接地址。

    **说明：** 仅支持修改连接地址的前缀部分。修改时需满足以下规则：

    -   以小写字母开头。
    -   以小写字母或数字结尾。
    -   支持小写字母、数字和连字符（-），且长度为8~64个字符。
    ![设置新连接地址](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7646819951/p66853.png)

8.  单击**确定**。


修改内网或公网连接地址后，将客户端连接该实例的地址修改为新连接地址。

