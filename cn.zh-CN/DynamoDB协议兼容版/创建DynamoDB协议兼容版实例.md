# 创建DynamoDB协议兼容版实例

本文档介绍如何创建一个DynamoDB协议兼容版实例。

## 注意事项

仅云数据库MongoDB版4.0版分片集群实例兼容DynamoDB协议。

## 操作步骤

1.  登录[MongoDB管理控制台](https://mongodb.console.aliyun.com/)。

2.  在页面左上角，选择实例所在的资源组和地域。

3.  在**分片集群实例列表**页面，单击**创建实例**。

4.  选择**分片集群（包年包月）**或**分片集群（按量付费）**。

    **说明：**

    -   包年包月：在新建实例时支付费用。适合长期需求，价格比按量付费更实惠，且购买时长越长，折扣越多。
    -   按量付费：后付费，按小时扣费。适合短期需求，用完可立即释放实例，节省费用。
5.  选择实例配置，参数说明如下表所示。

    |类别|配置|说明|
    |:-|:-|:-|
    |**基本配置**|**地域**|实例所属的地理位置，不同地域内的实例内网不互通，实例创建成功后无法更换地域，请谨慎选择。

在同一地域内的实例（如[ECS](https://help.aliyun.com/document_detail/25367.html)与MongoDB之间）可以通过内网进行连接。 |
    |**可用区**|[可用区](https://help.aliyun.com/document_detail/40654.html#h2-url-2)是指在同一地域内，电力和网络互相独立的物理区域。同一可用区内ECS实例和MongoDB实例通过内网连接时，网络延时最小。

**说明：** 您可以选择多可用区实现实例的同城容灾，详情请参见[创建多可用区分片集群实例](/cn.zh-CN/用户指南/同城容灾解决方案/创建多可用区分片集群实例.md)。 |
    |**协议类型**|    -   选择**MongoDB协议**：使实例支持MongoDB协议。
    -   选择**DynamoDB协议**：使实例支持DynamoDB协议。
此处选择**DynamoDB协议**，有关DynamoDB协议的详情，请参见[MongoDB实例兼容DynamoDB协议](~~164422~~)。|
    |**数据库版本**|分片集群实例支持的数据库版本为3.4、4.0和4.2。 支持DynamoDB协议的MongoDB版本仅为4.0版，此处选择4.0。

关于版本的详细说明请参见[版本与存储引擎](/cn.zh-CN/产品简介/版本及存储引擎.md)。

**说明：** 支持在实例运行期间手动升级数据库版本，详情请参见[升级数据库版本](/cn.zh-CN/用户指南/实例管理/数据库升级/升级数据库版本.md)。 |
    |**存储引擎**|固定为**WiredTiger**存储引擎。

**说明：** RocksDB和TerarkDB存储引擎已下线，详情请参见[【通知】1月15日云数据库MongoDB版RocksDB和TerarkDB存储引擎下线](/cn.zh-CN/产品通知/【通知】1月15日云数据库MongoDB版RocksDB和TerarkDB存储引擎下线.md)。 |
    |**资源组**|**资源组**|通过设置资源组，您可以对单个云账号下多个地域、多种云资源进行集中的分组管理。您可以选择加入已创建的资源组或者创建一个资源组加入。如何创建资源组请参见[创建资源组]()。|
    |**网络类型**|**专有网络**|专有网络VPC（Virtual Private Cloud）是一种隔离的网络环境，安全性和性能均高于传统的经典网络，推荐您使用。 **说明：**

    -   专有网络需要事先创建，详情请参见[创建专有网络](/cn.zh-CN/专有网络和交换机/管理专有网络/创建专有网络.md)。
    -   您也可以在创建实例后再更改网络类型，具体请参见[切换实例网络类型](/cn.zh-CN/用户指南/管理网络连接/切换实例网络类型.md)。
    -   此外，您还可以通过专线或者VPN的方式将自建机房与阿里云专有网络内的云资源组合成一个虚拟机房，实现应用平滑上云。具体方案请参见：[经典网络平滑迁移到VPC的混访方案](/cn.zh-CN/用户指南/管理网络连接/经典网络平滑迁移到VPC的混访方案.md)。 |
    |**mongos规格配置**|**mongos规格**|分片集群实例中mongos节点的规格，详情请参见[实例规格](/cn.zh-CN/产品简介/实例规格表.md)。 **说明：** 您也可以在实例运行期间增加mongos节点数量或变更节点配置。 |
    |**数量**|mongos节点的数量。

一个分片集群实例中mongos节点数量为2~32个。 |
    |**shard规格配置**|**shard规格配置**|分片集群实例中shard节点的规格，详情请参见[实例规格](/cn.zh-CN/产品简介/实例规格表.md)。 **说明：** 您也可以在实例运行期间增加shard节点数量或变更节点配置。 |
    |**存储空间**|分片集群实例中每个shard节点的存储空间，可选范围为10~1000GB。 **说明：** shard节点的存储空间包含您的数据文件、系统文件、日志文件空间。 |
    |**数量**|shard节点的数量。

一个分片集群实例中shard节点数量为2~32个。 |
    |**ConfigServer规格配置**|**ConfigServer规格**|ConfigServer的规格配置固定为1核2GB，存储空间固定为20GB，且不支持修改。 |
    |**密码设置**|**立即设置**|    -   密码由大写字母、小写字母、数字、特殊字符中的至少三种组成，特殊字符为：

!\#$%^&\*\(\)\_+-=

    -   密码长度为8~32位。 |
    |**创建后设置**|暂时不设置密码，实例创建完成后再[设置密码]()。|
    |**购买时长**|无|创建包年包月实例时，指定实例的时长。包月可选择1~9个月，包年可选择1~3年。|

6.  完成上述参数配置后，单击**立即购买**。

7.  在**确认订单**页面，勾选**云数据库MongoDB版服务协议**，根据页面提示完成支付流程。

    **说明：** 您已成功开通DynamoDB协议兼容实例。需要了解DynamoDB协议的兼容程度，请参见[DynamoDB协议兼容版实例支持详情](/cn.zh-CN/DynamoDB协议兼容版/DynamoDB协议兼容版实例支持详情.md)。


