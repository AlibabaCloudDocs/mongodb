# 创建副本集实例

您可以通过阿里云MongoDB管理控制台创建副本集实例，本文将介绍具体的操作流程。

-   已注册阿里云账号，注册流程请参见[注册阿里云账号](https://help.aliyun.com/knowledge_detail/37195.html)。
-   若您要创建按量付费的实例，请确保您的账户余额大于等于100元。

## 费用说明

详情请参见[收费项目及价格说明](/cn.zh-CN/产品定价/收费项目及价格说明.md)。

## 优惠活动

首购折扣价：首次购买云数据库MongoDB实例享受折扣价，详情请参见[云数据库优惠活动](https://promotion.aliyun.com/ntms/act/apsaradbfirstbuy.html)。

## 操作步骤

在执行完下列步骤之后，云数据库MongoDB版会自动为您配置好数据库，您无需手动进行安装部署。

1.  登录[MongoDB管理控制台](https://mongodb.console.aliyun.com/)。

2.  在页面左上角，选择实例所在的资源组和地域。

3.  在左侧导航栏，单击**副本集实例列表**。

4.  在**副本集实例列表**页面，单击**创建实例**。

5.  **说明：**

-   包年包月：在新建实例时支付费用。适合长期需求，价格比按量付费更实惠，且购买时长越长，折扣越多。
-   按量付费：后付费，按小时扣费。适合短期需求，用完可立即释放实例，节省费用。
6.  选择实例配置，参数说明如下表所示。

    |参数配置区|参数项|说明|
    |:----|:--|:-|
    |**基本配置**|**地域**|实例所属的地理位置，不同地域内的实例内网不互通，实例创建成功后无法更换地域，请谨慎选择。

在同一地域内的实例（如[ECS](~~25367~~)与MongoDB之间）可以通过内网进行连接。 |
    |**可用区**|[可用区](~~40654~~)是指在同一地域内，电力和网络互相独立的物理区域。同一可用区内ECS实例和MongoDB实例通过内网连接时，网络延时最小。

**说明：** 您可以选择多可用区实现实例的同城容灾，详情请参见[创建多可用区副本集实例](/cn.zh-CN/用户指南/同城容灾解决方案/创建多可用区副本集实例.md)。 |
    |**数据库版本**|副本集实例支持的数据库版本为4.4、4.2、4.0和3.4版本。 其中有部分**可用区**暂不支持4.4版本，如您无法找到4.4版本，可以通过切换**可用区**来解决。关于版本的详细说明请参见[版本与存储引擎](/cn.zh-CN/产品简介/版本及存储引擎.md)。

**说明：**

    -   云数据库MongoDB版已下线3.2版本，详情请参见[【通知】11月22日云数据库MongoDB版3.2版本下线](/cn.zh-CN/产品通知/【通知】11月22日云数据库MongoDB版3.2版本下线.md)。
    -   云数据库MongoDB已上线4.4版本，详情请参见[【通知】11月20日云数据库MongoDB版上线4.4版本](/cn.zh-CN/产品通知/【通知】11月20日云数据库MongoDB版上线4.4版本.md)。
    -   支持在实例运行期间手动升级数据库版本，详情请参见[升级数据库版本](/cn.zh-CN/用户指南/实例管理/数据库升级/升级数据库版本.md)。 |
    |**存储引擎**|固定为**WiredTiger**存储引擎。

**说明：** RocksDB引擎已下线，详情请参见[【通知】1月15日云数据库MongoDB版RocksDB和TerarkDB存储引擎下线](/cn.zh-CN/产品通知/【通知】1月15日云数据库MongoDB版RocksDB和TerarkDB存储引擎下线.md)。 |
    |**节点数**|根据业务需求选择副本集实例的节点数量，如读多写少的业务场景，可选择更多的节点数。|
    |**只读节点数**|根据业务需求选择副本集实例的只读节点数量，关于只读节点的详情，请参见[MongoDB只读节点简介](/cn.zh-CN/产品简介/MongoDB只读节点简介.md)。|
    |**资源组**|**资源组**|通过设置资源组，您可以对单个云账号下多个地域、多种云资源进行集中的分组管理。您可以选择加入已创建的资源组或者创建一个资源组加入。如何创建资源组请参见[创建资源组]()。|
    |**网络类型**|**经典网络**|经典网络：经典网络中的云服务在网络上不进行隔离，只能依靠云服务自身的安全组或白名单策略来阻挡非法访问。|
    |**专有网络**|专有网络VPC（Virtual Private Cloud）是一种隔离的网络环境，安全性和性能均高于传统的经典网络。 **说明：**

    -   专有网络需要事先创建，详情请参见[创建专有网络](/cn.zh-CN/专有网络和交换机/管理专有网络/创建专有网络.md)。
    -   您也可以在创建实例后再更改网络类型，具体请参见[切换实例网络类型](/cn.zh-CN/用户指南/管理网络连接/切换实例网络类型.md)。
    -   此外，您还可以通过专线或者VPN的方式将自建机房与阿里云专有网络内的云资源组合成一个虚拟机房，实现应用平滑上云。具体方案请参见：[经典网络平滑迁移到VPC的混访方案](/cn.zh-CN/用户指南/管理网络连接/经典网络平滑迁移到VPC的混访方案.md)。 |
    |**规格配置**|**规格**|    -   实例分配的CPU和内存规格。
    -   不同规格对应不同的最大连接数和IOPS不同，即读和写分别可以达到的最大值，混合读写最高可以达到指标的2倍，详情请参见[实例规格表](/cn.zh-CN/产品简介/实例规格表.md)。 |
    |**存储空间**|副本集实例中每个节点独享的存储空间。 **说明：** 节点的存储空间包含您的数据文件、系统文件、日志文件空间。 |
    |**密码设置**|    -   **立即设置**
    -   **创建后设置**
|设置root账号的密码。您可以在立即设置密码，也可以在实例运行期间通过[重置密码]()来设置。

    -   密码由大写字母、小写字母、数字、特殊字符中的至少三种组成，特殊字符为!@\#$%^&\*\(\)\_+-=
    -   密码长度为8~32位。 |
    |**购买时长**（仅包年包月下展示）|**购买时长**|选择包年包月实例的时长，包月可选择1~9个月，包年可选择1~5年。**说明：** 若您希望您的实例到期后自动续费，您可以选中时长后面的**自动续费**，请确保账户中有足够的余额。 |
    |**数量**|选择相同配置包年包月实例的数量，可以设置1~10的整数。|
    |**购买台数**（仅按量付费下展示）|**数量**|选择相同配置按量付费实例的数量，可以设置1~10的整数。|

7.  单击**立即购买**，进入订单确认页面。

8.  在确认订单页面，阅读并勾选服务协议，根据提示完成支付流程。


## 查看已创建的实例

1.  登录[MongoDB管理控制台](https://mongodb.console.aliyun.com/)。

2.  在页面左上角，选择实例所在的资源组和地域。

3.  在左侧导航栏，单击**副本集实例列表**。


## 无法找到实例

|可能原因|解决方法|
|----|----|
|选择了错误的地域|参照[查看已创建的实例](#section_egw_cbh_blu)操作，重新选择正确的地域。|
|选择了错误的实例列表|参照[查看已创建的实例](#section_egw_cbh_blu)操作，选择**副本集实例列表**。|
|未刷新/过早刷新控制台|您可以等待一段时间（通常为几分钟）后刷新控制台，再查看副本集实例列表中是否会出现实例。|
|资源不足|新创建的实例可能因为资源不足而退款，您可以在[订单管理](https://expense.console.aliyun.com/#/order/list/)中查看到退款。

在您确认退款后，您可以更换可用区尝试再次购买，您也可以[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex)处理。 |

创建实例后，您还需要[设置白名单](/cn.zh-CN/快速入门/设置白名单.md)，如果您需要通过公网连接实例，您还需要[申请公网连接地址](/cn.zh-CN/快速入门/申请公网连接地址.md)。

关于连接实例的方法和场景，请参见[连接实例](/cn.zh-CN/用户指南/连接实例/连接实例.md)。

