# 变更配置方案概览 {#concept_1580302 .concept}

云数据库MongoDB提供了变更配置功能，可满足大多数场景下的需求。同时，针对不支持变更的选项，本文也提供了相应的解决方案。

关于详细的实例规格信息，请参见[实例规格表](../../../../cn.zh-CN/产品简介/实例规格表.md#)。

关于版本与存储的介绍和约束关系，请参见[版本及存储引擎](../../../../cn.zh-CN/产品简介/版本及存储引擎.md#)。

## 单节点实例 {#section_h7y_zpy_mc0 .section}

|变更项|是否支持变更|说明|
|:--|------|:-|
|规格|支持|详情请参见[变更单节点/副本集实例配置](cn.zh-CN/用户指南/实例管理/变更单节点__副本集实例配置.md#)。|
|存储空间|支持|详情请参见[变更单节点/副本集实例配置](cn.zh-CN/用户指南/实例管理/变更单节点__副本集实例配置.md#)。 当付费类型为包年包月时，不支持降低存储空间，您可以通过创建新实例的方式来实现：

 1.  创建按量付费的单节点实例，在创建过程中选择所需的存储空间，详情请参见[创建单节点实例](../../../../cn.zh-CN/单节点快速入门/创建单节点实例.md#) 。

**说明：** 新实例的存储空间需大于原实例已使用的存储空间。

2.  使用DTS将原实例的数据迁移至新实例，详情请参见[MongoDB数据迁移/同步方案概览](cn.zh-CN/用户指南/数据迁移__同步/MongoDB数据迁移__同步方案概览.md#)。
3.  在新实例上进行测试验证，如无问题可将业务切换至新实例。

**说明：** 如果长期使用，建议将[按量付费转为包年包月](cn.zh-CN/用户指南/计费管理/按量付费转包年包月.md#)，价格比按量付费更实惠，且购买时长越长，折扣越多。

4.  原实例如不再需要，可[手动释放](cn.zh-CN/用户指南/实例管理/释放实例.md#)按量付费实例或[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex)申请释放包年包月实例。

 |
|节点数|不支持| 不支持变更单节点实例的节点数/实例架构/存储引擎，您可以通过创建新实例的方式来实现：

 1.  创建一个按量付费实例，在创建过程中选择所需的节点数/实例架构/存储引擎。

**说明：** 

    -   如需扩展节点数，新实例的类型需为副本集实例。
    -   新实例的存储空间需大于原实例已使用的存储空间。
2.  使用DTS将原实例的数据迁移至新实例，详情请参见[MongoDB数据迁移/同步方案概览](cn.zh-CN/用户指南/数据迁移__同步/MongoDB数据迁移__同步方案概览.md#)。
3.  在新实例上进行测试验证，如无问题可将业务切换至新实例。

**说明：** 如果长期使用，建议将[按量付费转为包年包月](cn.zh-CN/用户指南/计费管理/按量付费转包年包月.md#)，价格比按量付费更实惠，且购买时长越长，折扣越多。

4.  原实例如不再需要，可[手动释放](cn.zh-CN/用户指南/实例管理/释放实例.md#)按量付费实例或[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex)申请释放包年包月实例。

 |
|[实例架构](../../../../cn.zh-CN/产品简介/什么是云数据库MongoDB版.md#section_r8z_cic_h4w)|
|[存储引擎](../../../../cn.zh-CN/产品简介/版本及存储引擎.md#section_rsk_bwc_bfb)|

## 副本集实例 {#section_dy3_4m5_q3b .section}

|变更项|是否支持变更|说明|
|:--|------|:-|
|节点数|支持|详情请参见[变更副本集实例节点数](cn.zh-CN/用户指南/实例管理/变更副本集实例节点数.md#)。|
|规格|支持|详情请参见[变更单节点/副本集实例配置](cn.zh-CN/用户指南/实例管理/变更单节点__副本集实例配置.md#)。|
|存储空间|支持|详情请参见[变更单节点/副本集实例配置](cn.zh-CN/用户指南/实例管理/变更单节点__副本集实例配置.md#)。 当付费类型为包年包月时，不支持降低存储空间，您可以通过以下方法来实现。

 1.  [按时间点新建实例](cn.zh-CN/用户指南/数据恢复/按时间点新建实例.md#)，选择付费类型为按量付费，并选择所需的存储空间。

**说明：** 新实例的存储空间需大于原实例已使用的存储空间。

2.  在新实例上进行测试验证，如无问题可将业务切换至新实例。

**说明：** 如果长期使用，建议将[按量付费转为包年包月](cn.zh-CN/用户指南/计费管理/按量付费转包年包月.md#)，价格比按量付费更实惠，且购买时长越长，折扣越多。

3.  原实例如不再需要，可[手动释放](cn.zh-CN/用户指南/实例管理/释放实例.md#)按量付费实例或[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex)申请释放包年包月实例。

 |
|[实例架构](../../../../cn.zh-CN/产品简介/什么是云数据库MongoDB版.md#section_r8z_cic_h4w)|不支持| 不支持变更副本集实例的实例架构/存储引擎，您可以通过创建新实例的方式来实现。

 1.  创建按量付费的实例，在创建过程中选择所需的实例架构/存储引擎。

**说明：** 新实例的存储空间需大于原实例已使用的存储空间。

2.  使用DTS将原实例的数据迁移至新实例，详情请参见[MongoDB数据迁移/同步方案概览](cn.zh-CN/用户指南/数据迁移__同步/MongoDB数据迁移__同步方案概览.md#)。
3.  在新实例上进行测试验证，如无问题可将业务切换至新实例。

**说明：** 如果长期使用，建议将[按量付费转为包年包月](cn.zh-CN/用户指南/计费管理/按量付费转包年包月.md#)，价格比按量付费更实惠，且购买时长越长，折扣越多。

4.  原实例如不再需要，可[手动释放](cn.zh-CN/用户指南/实例管理/释放实例.md#)按量付费实例或[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex)申请释放包年包月实例。

 |
|[存储引擎](../../../../cn.zh-CN/产品简介/版本及存储引擎.md#section_rsk_bwc_bfb)|

## 分片集群实例 {#section_upd_pm5_q3b .section}

分片集群实例通过变更节点的规格和存储空间，来实现变更配置。

**说明：** 分片集群实例不支持变更实例架构和存储引擎。如果通过新建实例的方式变更，停机时间较长，对业务影响较大，不推荐操作。

|组件|变更项|说明|
|:-|:--|:-|
|Mongos节点|规格|详情请参见[变更分片集群实例配置](cn.zh-CN/用户指南/实例管理/变更分片集群实例配置.md#)。|
|Shard节点|规格|详情请参见[变更分片集群实例配置](cn.zh-CN/用户指南/实例管理/变更分片集群实例配置.md#)。 当付费类型为包年包月时，不支持降低存储空间，您可以通过以下方法来实现。

 1.  [按时间点新建实例](cn.zh-CN/用户指南/数据恢复/按时间点新建实例.md#)，选择付费类型为按量付费，并选择所需的存储空间。

**说明：** 新实例的存储空间需大于原实例已使用的存储空间。

2.  在新实例上进行测试验证，如无问题可将业务切换至新实例。

**说明：** 如果长期使用，建议将[按量付费转为包年包月](cn.zh-CN/用户指南/计费管理/按量付费转包年包月.md#)，价格比按量付费更实惠，且购买时长越长，折扣越多。

3.  原实例如不再需要，可[手动释放](cn.zh-CN/用户指南/实例管理/释放实例.md#)按量付费实例或[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex)申请释放包年包月实例。

 |
|存储空间|
|ConfigServer|规格/存储空间|ConfigServer为三节点副本集架构，规格为1核2GB，磁盘空间为20GB，不可变更配置。|

