# 变更单节点或副本集实例配置

如果当前单节点或副本集实例的配置无法满足应用的性能要求或配置过高，您可以变更实例的配置。

## 约束

-   变更配置时，存储空间必须大于当前实例已占用的存储空间。
-   付费类型为包年包月时，两次降配的时间间隔不可小于60天。
-   付费类型为包年包月时，不支持降低存储空间。如需降低存储空间，可通过其他方式实现，详情请参见[变更配置方案概览](/cn.zh-CN/用户指南/实例管理/变更实例配置/变更配置方案概览.md)。
-   不支持变更实例类型（例如从单节点实例变更为副本集实例）、存储引擎，如需变更，可通过其他方式实现，详情请参见[变更配置方案概览](/cn.zh-CN/用户指南/实例管理/变更实例配置/变更配置方案概览.md)。

## 计费规则

详情请参见[变更配置费用说明](/cn.zh-CN/产品定价/变更配置费用说明.md)。

## 影响

-   变更配置不会引起数据丢失。
-   变配过程中，可能会连接切换操作带来1~2次30秒内的闪断，您可以按需设置变更生效时间，避免业务影响。如果仅变更**存储空间**，则不会发生该现象。
-   变更配置的完成时间和网络、任务队列、数据量大小等多种因素有关，请尽量在业务低峰期执行变配操作，并确保您的应用有自动重连机制。
-   如果您的数据库小版本过期或者不在维护列表内，当执行[实例版本升级](/cn.zh-CN/用户指南/实例管理/数据库升级/升级数据库版本.md)、[数据迁移](/cn.zh-CN/用户指南/数据迁移和同步/MongoDB数据迁移和同步方案概览.md)、[变更实例配置](/cn.zh-CN/用户指南/实例管理/变更实例配置/变更配置方案概览.md)、[从备份点创建实例](/cn.zh-CN/用户指南/数据恢复/从备份点创建实例.md)、[按时间点新建实例](/cn.zh-CN/用户指南/数据恢复/按时间点新建实例.md)或[MongoDB单库恢复](/cn.zh-CN/用户指南/数据恢复/MongoDB单库恢复.md)等操作时，为保证提供更出色的性能和稳定性，系统会默认将您的数据库小版本升级至最新版。

## 切换时间选择说明

在选择[变配参数的页面](#step_ouf_3i9_xep)，您可以指定切换时间，详细说明如下表所示。

|选项|实例状态|影响|
|--|----|--|
|**可维护时间内进行切换**|立即进入**变配中**状态|系统将会执行变更配置前的预操作，执行预操作不会对实例的运行产生影响，不会造成闪断的情况。最后在您设定的可维护时间段内执行正式的变配操作。

例如，可维护时间设置为2:00-3:00，那么实例将在该时间段内执行正式的变配操作，此时将无法执行与数据库、账号、网络等相关的大部分操作，且可能会造成1～2次30秒内的闪断。

**说明：** 关于修改可维护时间点的方法，请参见[设置可维护时间段](/cn.zh-CN/用户指南/实例管理/设置可维护时间段.md)。 |
|**数据迁移结束后立即生效**|实例立即执行正式的变配操作，此时将无法执行与数据库、账号、网络等相关的大部分操作，且可能会造成1～2次30秒内的闪断。 |

## 操作步骤

1.  登录[MongoDB管理控制台](https://mongodb.console.aliyun.com/)。

2.  在页面左上角，选择实例所在的资源组和地域。

3.  在左侧导航栏，单击**副本集实例列表**。

4.  完成变更实例配置的操作。

    实例的付费类型为按量付费时，请按照下述步骤操作。

    1.  找到目标实例，单击实例ID。

    2.  在**基本信息**区域框，单击**变更配置**。

    实例的付费类型为包年包月时，请按照下述步骤操作。

    1.  找到目标实例，单击实例ID。

    2.  在**基本信息**区域框，单击**升级配置**或**降级配置**。

5.  在变配页面，选择实例的**节点数**、**规格**、**存储空间**和**切换时间**。

    关于详细的实例规格信息，请参见[实例规格表](/cn.zh-CN/产品简介/实例规格表.md)。

    **说明：**

    -   各参数的选择约束请参见[约束](#section_lqr_nhm_8sg)。
    -   **切换时间**的选择与影响，详情请参见[切换时间选择说明](#section_usx_gsk_d99)。
6.  勾选服务条款，根据提示完成支付流程。


## 更多信息

[解决因磁盘空间耗尽导致的锁定或无法写入问题](/cn.zh-CN/常见问题/性能和存储空间/MongoDB中磁盘空间耗尽导致无法写入问题.md)

当实例的运行状态转变为**运行中**，即表示系统已完成了对实例的变配操作。

