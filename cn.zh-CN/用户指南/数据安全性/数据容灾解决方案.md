# 数据容灾解决方案 {#concept_1563510 .concept}

为进一步满足业务场景中高可靠性和数据安全需求，云数据库MongoDB版提供了同城容灾和异地容灾两种解决方案，您可以根据业务需求来选择。

## 注意事项 {#section_32g_lew_wb9 .section}

-   由于[单节点实例架构](../../../../cn.zh-CN/产品简介/系统架构/单节点架构.md#)的特殊性，单节点实例不支持同城容灾和异地容灾，您可以[将单节点实例的数据迁移至副本集实例或分片集群实例](cn.zh-CN/用户指南/数据迁移__同步/MongoDB实例间迁移/从MongoDB单节点实例迁移至副本集或分片集群实例.md#)，然后[手动释放](cn.zh-CN/用户指南/实例管理/释放实例.md#)原单节点实例。

    **说明：** 如果您的单节点实例的付费方式为包年包月，请[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex)来申请释放。

-   同城容灾同时支持副本集实例和分片集群实例，异地容灾仅支持副本集实例。

## 同城容灾 {#section_47o_6pr_9py .section}

同城容灾是将副本集中的节点或分片集群实例中的组件分别部署在同一地域下三个不同的[可用区](https://help.aliyun.com/document_detail/26559.html#ul-icc-njg-hfb)，当其中的任一可用区因电力、网络等不可抗因素失去通信时，高可用系统将自动触发切换操作，确保整个实例的持续可用和数据安全。

|实例类型|节点部署策略|
|----|------|
|副本集实例|![副本集节点部署策略](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/64995/156557608039357_zh-CN.png)

|
|分片集群实例|![分片集群节点部署策略](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/216351/156557608046749_zh-CN.png)

|

您可以在创建实例时选择多可用区，详情请参见[创建多可用区副本集实例](cn.zh-CN/用户指南/同城容灾解决方案/创建多可用区副本集实例.md#)或[创建多可用区分片集群实例](cn.zh-CN/用户指南/同城容灾解决方案/创建多可用区分片集群实例.md#)；您也可以将现有的副本集实例从单可用区迁移至多可用区，详情请参见[迁移可用区](cn.zh-CN/用户指南/实例管理/迁移可用区.md#)。

## 异地容灾 {#section_dk1_7zi_e8x .section}

云数据库MongoDB版推出的云上灾备功能，助力企业快速复制阿里巴巴异地多活架构，可适用于云上灾备、云上多活、数据同步等场景。

![异地容灾架构图](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1240677/156557608054471_zh-CN.png)

您可以创建灾备实例，系统将自动搭建基于当前实例的灾备实例，可应对地域级别的故障，详情请参见[创建云上灾备实例](cn.zh-CN/用户指南/云上灾备和多活/创建云上灾备实例.md#)。

在异地容灾架构中，业务使用的实例和灾备数据之间通过Kafka通道完成数据同步，用以保障数据一致性。当实例出现故障时，您可以将业务流量切换至灾备实例，快速恢复服务。

## 更多信息 {#section_9ni_8gy_9a0 .section}

[云数据库MongoDB版数据安全最佳实践](../../../../cn.zh-CN/最佳实践/云数据库MongoDB版数据安全最佳实践.md#)

