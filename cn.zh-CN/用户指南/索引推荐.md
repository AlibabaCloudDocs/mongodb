# 索引推荐 {#concept_h14_ntz_xfb .concept}

在使用阿里云数据库MongoDB时，可能会因为漏加索引或者使用不恰当的索引，导致查询语句慢或超时，CPU使用率高，影响业务使用。阿里云MongoDB推出了索引推荐功能，帮助您发现漏加索引或者使用不恰当索引导致的慢查询，并为这些慢查询提供相应的最优索引，提升数据库性能。

## 限制条件 {#section_i2d_y3z_xfb .section}

-   单节点实例暂不支持该功能。
-   索引推荐功能目前仅支持华东1，华东2，华南1，华北1，华北2 五个地域。
-   实例必须先开通[审计日志](cn.zh-CN/用户指南/数据安全性/审计日志.md#)功能。

## 索引推荐报告生产规则 {#section_ach_fjz_xfb .section}

-   默认每天自动生成0点-24点时间范围内的索引推荐报告。

    **说明：** 列表可以保存最近7天的索引诊断报告，超过7天的报告内容将被自动删除。

-   您可以根据需求，自定义分析最近7天内任意一个时间段的慢查询及索引推荐报告。
-   慢查询的获取规则：查询语句执行时间超过100ms。

## 操作步骤 {#section_udg_jqz_xfb .section}

1.  登录[MongoDB管理控制台](https://mongodb.console.aliyun.com/)。
2.  在页面左上角，选择实例所在的地域。
3.  根据实例类型，在左侧导航栏单击**副本集实例列表**或**分片集群实例列表**。
4.  找到目标实例，单击实例ID。
5.  在左侧导航栏中，选择**CloudDBA** \> **索引推荐**。
6.  单击**自定义分析**，打开自定义分析对话框。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/65050/155359079433108_zh-CN.png)

    您可以设置**查询时间**，查看具体时间段内的索引诊断报告。

7.  单击某个索引推荐报告列表后的**查看详情**，查看该索引报告的内容。
8.  单击**查看详情**，查看索引推荐的详细内容。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/65050/155359079533109_zh-CN.png)

9.  在分析详情对话框，您可以查看索引推荐详情。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/65050/155359079533110_zh-CN.png)


